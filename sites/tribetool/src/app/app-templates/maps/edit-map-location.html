<div style="padding: 10px;">
    <modal-close-button on-cancel="cancel()"></modal-close-button>
    <h1>{{isEditing ? 'Edit Map Location' : 'Create Map Location'}}</h1>
    <form ng-submit="submit()">
        <div ng-show="processing"><loading></loading> {{processing}}</div>
        <div ng-show="!processing">
            <label>Name <span class="required-star">*</span></label>
            <input ng-autofocus="form.autofocus" class="form-control" placeholder="Map Location Name" required ng-model="form.Name">

            <label>Tag <span class="required-star">*</span></label>
            <tag-page-search-bar show-search="false" autocomplete-required="true" search-text="form.Tag" options="tagSearchOptions"></tag-page-search-bar>

            <div ng-if="isEditing">
                <h3 style="margin-bottom: 0px;">Playlists</h3>
                <playlists ng-show="mapLocation.Playlists && mapLocation.Playlists.length > 0" playlists="mapLocation.Playlists"></playlists>
                <button style="margin-top:10px;" class="btn btn-primary" type="button" ng-click="editPlaylists()">Edit Playlists</button>

                <div ng-if="tagPage">
                    <h3 style="margin-bottom: 0px;">Tag Playlists</h3>
                    <playlists ng-show="tagPage.Playlists && tagPage.Playlists.length > 0" playlists="tagPage.Playlists"></playlists>
                </div>

            </div>

            <div ng-show="errorMessage" style="font-weight: bold; color: red;">{{errorMessage}}</div>
            <button class="btn btn-primary pull-right" type="submit" style="margin-top: 20px;">{{isEditing ? 'Save' : 'Create'}}</button>
            <button class="btn btn-warning pull-right" type="button" style="margin-top: 20px; margin-right: 20px;" ng-click="cancel()">Cancel</button>

            <div ng-show="isEditing" class="pull-left"><button ng-show="!showDelete" class="btn btn-danger" type="button" ng-click="showDelete = true" style="margin-top: 20px;">Delete</button></div>
            <div ng-show="showDelete">
                <div style="font-weight: bold; color: red; margin-top: 20px;">Are you sure you want to delete this Map Location?</div>
                <div class="pull-left"><button class="btn btn-warning" type="button" ng-click="showDelete = false" style="margin-top: 10px; margin-right: 10px;">Cancel</button></div>
                <div class="pull-left"><button class="btn btn-danger" type="button" ng-click="submitDelete()" style="margin-top: 10px;">Delete</button></div>
            </div>


        </div>
    </form>
    <div class="clearfix"></div>
</div>